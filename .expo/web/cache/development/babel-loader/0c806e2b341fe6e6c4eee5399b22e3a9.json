{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from \"axios\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { APP_STORAGE_TOKEN } from \"../constants/user.constants\";\nvar api = axios.create({\n  baseURL: \"http://localhost:8000\"\n});\napi.interceptors.request.use(function _callee(config) {\n  var token;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(APP_STORAGE_TOKEN));\n\n        case 2:\n          token = _context.sent;\n          config.headers.Authorization = token ? \"Token \" + token : null;\n          return _context.abrupt(\"return\", Promise.resolve(config));\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}, function (error) {\n  return Promise.reject(error);\n});\nexport default api;","map":{"version":3,"sources":["/home/dan/danXCode/mobile/enxutank-mobile/services/api.js"],"names":["axios","AsyncStorage","APP_STORAGE_TOKEN","api","create","baseURL","interceptors","request","use","config","getItem","token","headers","Authorization","Promise","resolve","error","reject"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,2CAAzB;AACA,SAASC,iBAAT;AACA,IAAMC,GAAG,GAAGH,KAAK,CAACI,MAAN,CAAa;AACrBC,EAAAA,OAAO,EAAE;AADY,CAAb,CAAZ;AAIAF,GAAG,CAACG,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CACI,iBAAMC,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACwBR,YAAY,CAACS,OAAb,CAAqBR,iBAArB,CADxB;;AAAA;AACUS,UAAAA,KADV;AAEIF,UAAAA,MAAM,CAACG,OAAP,CAAeC,aAAf,GAA+BF,KAAK,cAAYA,KAAZ,GAAsB,IAA1D;AAFJ,2CAGWG,OAAO,CAACC,OAAR,CAAgBN,MAAhB,CAHX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CADJ,EAMI,UAAAO,KAAK,EAAI;AACL,SAAOF,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;AACH,CARL;AAWA,eAAeb,GAAf","sourcesContent":["import axios from \"axios\"\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { APP_STORAGE_TOKEN } from \"../constants/user.constants\";\nconst api = axios.create({\n    baseURL: \"http://localhost:8000\",\n})\n\napi.interceptors.request.use(\n    async config => {\n        const token = await AsyncStorage.getItem(APP_STORAGE_TOKEN)\n        config.headers.Authorization = token ? `Token ${token}` : null\n        return Promise.resolve(config)\n    },\n    error => {\n        return Promise.reject(error)\n    },\n)\n\nexport default api\n\n\n\n"]},"metadata":{},"sourceType":"module"}